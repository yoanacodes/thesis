(()=>{"use strict";var t={4628:(t,e,a)=>{a(6992),a(8674),a(9601),a(7727);var i=a(144),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{staticClass:"elevation-1",attrs:{app:"",color:"#fff",dense:"",flat:""}},[a("h1",{staticClass:"text-button"},[t._v(" Is Food Making You Sick? ")]),a("v-spacer"),a("nav",[a("a",{attrs:{href:""}},[t._v("Home")]),a("v-dialog",{attrs:{transition:"dialog-top-transition",fullscreen:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("a",t._g(t._b({attrs:{href:"#"}},"a",r,!1),i),[t._v("Process")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{outlined:""}},[a("v-toolbar",{staticClass:"elevation-0",attrs:{color:"#fff"}},[a("v-spacer"),a("v-btn",{attrs:{large:"",icon:"",color:"primary"},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("ProcessDialog")],1)],1),a("a",{attrs:{href:"https://github.com/yoanacodes/thesis",target:"_blank"}},[t._v("Source Code")])],1)],1),a("v-main",[a("StorySides")],1),a("Footer"),a("div",{staticClass:"elevation-7",attrs:{id:"tooltip"}})],1)},s=[],n=a(4367),o=a(629),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"mb-12",attrs:{id:"processWrapper"}},[a("v-row",{staticClass:"mt-4",attrs:{id:"projectTitle",justify:"center",align:"center"}},[a("h2",{staticClass:"text-overline font-weight-light"},[t._v(" Is Food Making You Sick? ")]),a("h3",{staticClass:"h5 font-weight-thin ml-1 mt-2"},[t._v(" Exploring the Relationship Between Nutrition and Health ")]),a("div",{staticClass:"mt-10 about",domProps:{innerHTML:t._s(t.concatenateAboutString)}})]),a("v-row",{staticClass:"dataSources"},[a("span",[t._v("Data Sources: "),a("br"),a("a",{attrs:{href:"https://www.globaldietarydatabase.org/",target:"_blank"}},[t._v("Global Dietary Database")]),a("br"),a("a",{attrs:{href:"https://www.healthdata.org/gbd/2019",target:"_blank"}},[t._v("Global Burden of Diseases")])])]),a("v-row",{staticClass:"mb-6",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"majorSection mt-12"},[t._v("PROCESS")]),a("h3",{staticClass:"mb-4"},[t._v("Infrastructure")]),a("ProcessSection",{attrs:{codeView:t.process.infrastructure}})],1)],1),a("v-row",{staticClass:"mt-12 mb-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"mb-4"},[t._v("Data Analysis")]),a("ProcessSection",{attrs:{codeView:t.process.data_analysis}})],1)],1),a("v-row",{staticClass:"mt-12 mb-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"mb-4"},[t._v("Backend")]),a("ProcessSection",{attrs:{codeView:t.process.backend}})],1)],1),a("v-row",{staticClass:"mt-12 mb-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"mb-4"},[t._v("Frontend")]),a("ProcessSection",{attrs:{codeView:t.process.frontend}})],1)],1),a("v-row",{staticClass:"mt-12 mb-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"mb-4"},[t._v("Design")]),a("ProcessSection",{attrs:{codeView:t.process.design}})],1)],1)],1)},c=[],u=(a(7327),a(1539),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imageWithDescription"},[a("v-row",{staticClass:"mb-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-3",attrs:{color:"transparent"}},[a("v-row",{staticClass:"ma-1"},[a("v-col",{staticClass:"pl-6 pt-8 pb-8",staticStyle:{background:"#fdfdfd"},attrs:{cols:"side"==t.layout?8:12}},[a("v-img",{staticStyle:{margin:"0 auto"},attrs:{src:t.image.link,width:t.image.width},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey"}})],1)]},proxy:!0}])})],1),a("v-col",{class:"side"==t.layout?"pl-5":"pl-12",attrs:{cols:t.calculateColumns}},[a("p",{staticClass:"pr-4 pl-6 pt-4 text-sm-body-2",staticStyle:{color:"#333"},domProps:{innerHTML:t._s(t.image.description)}})])],1)],1)],1)],1)],1)}),d=[];const h={name:"ImageAndDescription",props:{image:Object,layout:String},computed:{calculateColumns:function(){return"side"===this.layout?this.$vuetify.breakpoint.xs||this.$vuetify.breakpoint.sm?10:3:10}}},p=h;var g=a(3736),f=a(3453),v=a.n(f),y=a(3237),m=a(2102),_=a(7047),b=a(624),w=a(2877),S=(0,g.Z)(p,u,d,!1,null,null,null);const k=S.exports;v()(S,{VCard:y.Z,VCol:m.Z,VImg:_.Z,VProgressCircular:b.Z,VRow:w.Z});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-tabs",{attrs:{color:"black","background-color":"transparent",centered:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.codeType,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e.replace(/_/g," "))+" ")])})),1),a("v-tabs-items",{staticStyle:{"min-height":"600px"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.codeType,(function(e,i){return a("v-tab-item",{key:i,staticClass:"pa-2 mt-12"},[t._l(t.codeView[e],(function(t,e){return[a("ImageAndDescription",{key:"image_"+e,attrs:{image:t,layout:t.layout}})]}))],2)})),1)],1)],1)},C=[],V=a(5200);a(9720);const Z={name:"ProcessSection",components:{ImageAndDescription:k},data:function(){return{tab:null}},props:{codeView:Object},computed:{codeType:function(){for(var t=[],e=0,a=Object.entries(this.codeView);e<a.length;e++){var i=(0,V.Z)(a[e],2),r=i[0];i[1];t.push(r)}return t}}},R=Z;var O=a(4227),P=a(4584),z=a(5559),A=a(6480),T=(0,g.Z)(R,x,C,!1,null,null,null);const I=T.exports;v()(T,{VCol:m.Z,VRow:w.Z,VTab:O.Z,VTabItem:P.Z,VTabs:z.Z,VTabsItems:A.Z});const D={name:"ProcessDialog",components:{ImageAndDescription:k,ProcessSection:I},computed:(0,n.Z)((0,n.Z)({},(0,o.rn)(["filters"])),{},{healthFiltersLength:function(){if("function"===typeof this.filters.healthFilters||!this.filters.healthFilters.length)return"84";var t=this.filters.healthFilters.filter((function(t){return!t.hasOwnProperty("header")}));return t.length},nutritionFiltersLength:function(){if("function"===typeof this.filters.nutritionFilters||!this.filters.nutritionFilters.length)return"42";var t=this.filters.nutritionFilters.filter((function(t){return!t.hasOwnProperty("header")}));return t.length},concatenateAboutString:function(){var t="<p><i>Is Food Making You Sick?</i> is exploring the relationship between diet and health in 184 countries through the analysis and visualization of extensive data on nutritional factors and diseases. The project aims to study and visualize these relationships by juxtaposing "+this.nutritionFiltersLength+" nutrients and "+this.healthFiltersLength+" health conditions, allowing users to explore and analyze them.</p><p><i>Is Food Making You Sick?</i> will answer questions such as do countries that have a high fat diet, also struggle with heart disease? Are countries in which people are consuming high amounts of sugar also overburdened with diabetes? and many others. By exploring the patterns between food consumption and health outcomes, users could better inform their dietary choices and be empowered by high quality, research data rather than speculative data that often float around the Internet. Exposing the data visually could also spark discussion amongst researchers about less researched correlations, setting the stage for testing hypotheses and performing additional studies.</p>";return t}}),data:function(){return{process:{infrastructure:{application_setup:[{link:"images/schema.png",description:"<i>Is Food Making You Sick?</i> is built by analyzing and extracting the dataset powering it, from almost 6 Gigabytes of raw data from two extensive static sources - the <a href='https://www.globaldietarydatabase.org/' target='_blank'>Global Dietary Database</a> and the <a href='https://www.healthdata.org/gbd/2019' target='_blank'>Global Burden of Diseases</a>. <p>As there is no existing API with these datasets, I created my own, storing the data in a MySQL database. The API layer is implemented in Node.js and Express and is hosted on Heroku. The front-end itself is built in d3.js, Vue, Vuex, and Vuetify<p>",width:"960px",layout:"side"}]},data_analysis:{data_sources:[{link:"images/raw_datasources.png",description:"The raw data from the Global Dietary Database and the Global Burden of Diseases contains approximately 6 Gigabytes of CSV files. They were cleaned, analyzed and curated, resulting in over 3 million rows of data.",width:"960px",layout:"side"}],data_cleanup:[{link:"images/data_cleaning_nutrition.png",description:"The data was cleaned, and prepared for injestion to the MySQL database with Python, Pandas and Matplotlib, resulting in two master dataframes.",width:"960px",layout:"side"}],data_analysis:[{link:"images/data_analysis_scatterplots.png",description:"After the two datasets were prepared, the data was analyzed with Python and Pandas. In order to explore the correlations better, a series of scatterplots with regression line were created with Matplotlib and explored.",width:"960px",layout:"side"}]},backend:{database:[{link:"images/database.png",description:"After cleaning, formatting, and analyzing the nutrition and health data, the two master datasets were injested in two MySQL tables. Additional metadata for country population and obesity, overweight, underweight rates from the World Bank and WHO respectively was added to the database in a separate table.",width:"960px",layout:"side"}],api:[{link:"images/api.png",description:"The Node.js/Express API performs a JOIN on the three tables when users change their search parameters, and serves the data to the front-end.",width:"960px",layout:"side"}]},frontend:{visualization:[{link:"images/visualization.png",description:"<i>Is Food Making You Sick?</i> allows users to explore the relationship between the nutrient and health condition they choose in an interactive scatterplot. <p>The experience and analytical capabilities of the visualization are enhanced by adding the option to plot the regression line, as well as contextualize the datapoints geographically and with metadata such as population size, obesity, overweight, or underweight rates, used to size the countries.</p>",width:"960px",layout:"side"}],storytelling:[{link:"images/storytelling.png",description:"An important part of the design process was creating the storytelling part of the application. The data, its representation and distribution are presented in two separate views, allowing users to understand better what are the building blocks of the main visualization.",width:"960px",layout:"side"}]},design:{ux_ui:[{link:"images/visualization_filtered.png",description:"The main goal is to empower users to explore any patterns, trends, and relationships by juxtaposing data on nutrition consumption and health outcomes. <p>To achieve this, the user interface incorporates several selections, which gives users the power to compare and analyze the data in a way that serves them best.</p><p>A challenge in designing and coding the user interface and experience was managing all of the states each datapoint can have.</p>",width:"960px",layout:"side"}],sketches:[{link:"images/sketch.png",description:"After several considerations, the UI was sketched before starting development, in order to map the functionalities to the development process and plan it better.",width:"960px",layout:"side"}]}}}},mounted:function(){},watch:{},methods:{}},j=D;var F=a(9846),B=(0,g.Z)(j,l,c,!1,null,null,null);const Y=B.exports;v()(B,{VCol:m.Z,VContainer:F.Z,VRow:w.Z});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-item-group",{staticClass:"shrink mr-6 elevation-0",attrs:{id:"dotNav",mandatory:""},model:{value:t.currentSlide,callback:function(e){t.currentSlide=e},expression:"currentSlide"}},t._l(t.length,(function(e){return a("v-item",{key:e,staticStyle:{float:"left"},scopedSlots:t._u([{key:"default",fn:function(i){var r=i.active,s=i.toggle;return[a("div",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{"input-value":r,icon:"","x-small":"",color:"#888"},on:{click:s}},"v-btn",n,!1),i),[a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-record")])],1)]}}],null,!0)},[a("span",[t._v(t._s(t.sideNavTooltip(e)))])])],1)]}}],null,!0)})})),1),a("v-window",{staticClass:"elevation-0",attrs:{vertical:""},model:{value:t.currentSlide,callback:function(e){t.currentSlide=e},expression:"currentSlide"}},[a("v-container",{attrs:{id:"app_container"}},[a("v-row",{staticClass:"mt-4 ml-4",attrs:{id:"projectTitle",justify:"center",align:"center"}},[a("h2",{staticClass:"text-overline font-weight-light"},[t._v(" Is Food Making You Sick? ")]),a("hr"),a("h3",{staticClass:"h5 font-weight-thin ml-1 mt-2"},[t._v(" Exploring the Relationship Between Nutrition and Health ")])]),a("v-window-item",{key:0},[a("v-card",{attrs:{flat:""}},[a("v-row",{staticClass:"text-center mb-12 mt-10"},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"text-h5 font-weight-light mb-6"},[a("strong",[t._v("Milk Consumption")]),t._v(" (gramps per day) per Country ")]),a("p",{staticClass:"shortIntro"},[a("strong",[t._v("Milk")]),t._v(" and milk products are oftentimes promoted as very important for one's health, however, the "),a("a",{attrs:{href:"https://www.researchgate.net/publication/281140866_Dairy_Products_and_Inflammation_A_Review_of_the_Clinical_Evidence",target:"_blank"}},[t._v("research")]),t._v(" on the topic is still contradictory. Some of the research links dairy to increase in inflamation, which could have negative impact on overall health.")]),a("introSlidesViz",{attrs:{variableToVisualize:"nutrient"}}),a("v-btn",{staticClass:"ma-2 mt-12",attrs:{outlined:"",color:"blue-grey darken-2","x-large":""},on:{click:function(e){return t.changeWindow(e,1)}}},[t._v(" Next "),a("v-icon",{staticClass:"ml-1"},[t._v("mdi-arrow-down-drop-circle-outline")])],1)],1)],1)],1)],1),a("v-window-item",{key:1},[a("v-card",{attrs:{flat:""}},[a("v-row",{staticClass:"text-center mt-10"},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"text-h5 font-weight-light mb-6"},[a("strong",[t._v("Rheumatoid Arthritis Prevalance")]),t._v(" per 100k per Country ")]),a("p",{staticClass:"shortIntro"},[a("strong",[t._v("Rheumatoid arthritis")]),t._v(" is an autoimmune disorder in which the body is attacking its own cells and systems, primairly the joints. ")]),a("p",{staticClass:"shortIntro"},[t._v("Researchers are not in agreement about the effects of diet on patients living with the condition. "),a("a",{attrs:{href:"https://www.frontiersin.org/articles/10.3389/fnut.2019.00141/full",target:"_blank"}},[t._v("Some")]),t._v(" studies find a link between milk consumption and rheumatoid arthritis, while "),a("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6893662/",target:"_blank"}},[t._v("others")]),t._v(" refute such relationship exists.")]),a("introSlidesViz",{attrs:{variableToVisualize:"disease"}}),a("p",{staticClass:"mt-10",staticStyle:{width:"210px",margin:"0 auto"}},[t._v(" Now let's see if there is any relationship between milk consumption and Rheumatoid arthritis ")]),a("v-btn",{staticClass:"ma-2 mt-12",attrs:{outlined:"",color:"blue-grey darken-2","x-large":""},on:{click:function(e){return t.changeWindow(e,2)}}},[t._v(" Explore the data "),a("v-icon",{staticClass:"ml-1"},[t._v("mdi-arrow-down-drop-circle-outline")])],1)],1)],1)],1)],1),a("v-window-item",{key:2},[a("v-card",{attrs:{flat:""}},[a("Visualizations")],1)],1)],1)],1)],1)},M=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.dataIsReady?a("v-row",{attrs:{justify:"center",id:"visualizations"}},[a("v-col",{staticClass:"elevation-0",attrs:{cols:"12"}},[a("Filters"),a("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"mb-2"},[t._v(" Relationship between "),a("span",[t._v(t._s(t.selectedNutritionLabel))]),t._v(" and "),a("span",[t._v(t._s(t.selectedDiseaseLabel))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("Scatterplot")],1),a("v-col",{attrs:{cols:"3"}},[a("SidePanel")],1)],1)],1)],1):t._e()},H=[],U=(a(7042),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"text-right",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[a("div",{attrs:{id:"progressWrapper"}},[100!=t.current_state.data_load_progress?a("v-progress-circular",{attrs:{indeterminate:"",size:80,width:8,"buffer-value":t.current_state.data_load_progress,color:"#37474F"},model:{value:t.progressBarValue,callback:function(e){t.progressBarValue=e},expression:"progressBarValue"}}):t._e()],1),a("v-btn",{staticStyle:{position:"relative",top:"25px"},attrs:{depressed:"","x-small":"",dark:"",color:"#333"},on:{click:t.resetZoom}},[t._v("reset zoom")]),a("div",{style:{opacity:100==t.current_state.data_load_progress?1:.3},attrs:{id:"scatterplot"}})],1)],1)}),W=[],N=(a(2772),a(1249),a(2222),a(9600),a(2564),a(4951)),$=a(6645);const G={name:"Scatterplot",data:function(){return{progressBarValue:0,width:800,height:500,margin:{top:40,right:40,bottom:60,left:80},svg:Object,selectedCountry:Object,style:{highlightPointColor:"#FF3D00",vizBackground:"#fff",circleRadius:6,circleColors:{default:"#444",pushedBack:"#ddd",selectedCountryUnactiveRegion:"#555"},circleOpacity:{default:.7,pushedBack:.5,disappearing:0,highlighted:.9,decreased:.2},circleStroke:{color:"#9d9d9d",highlighted:"#222",width:1,thick:3}}}},computed:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,o.rn)(["dataset","dataIsReady","selectedPlotPoint","current_state","color_code"])),(0,o.Se)(["get_region_list"])),{},{filteredDataset:function(){var t=this;return this.dataset.filter((function(e){return t.current_state.selected_region.indexOf(e["region"])>=0}))},isReady:function(){return!("function"==typeof this.dataset||!this.dataset.length)},svgHeight:function(){return this.height+this.margin.top+this.margin.bottom},svgWidth:function(){return this.width+this.margin.left+this.margin.right},xScale:function(){var t=N.BYU().domain([0,N.Fp7(this.dataset.map((function(t){return t.nutrient})))]).range([0,this.width]).nice();return t},yScale:function(){var t=N.BYU().domain([0,N.Fp7(this.dataset.map((function(t){return t.disease})))]).range([this.height,0]).nice();return t},populationRadiusScale:function(){return N.PUr([0,5e8],[0,this.width/24])},colorMap:function(){var t=N.PKp().domain(this.get_region_list).range(this.color_code);return t},regression:function(){var t=(0,$.regressionLinear)().x((function(t){return t.nutrient})).y((function(t){return t.disease}));t(this.dataset);return t},zoom:function(){var t=N.sPX().scaleExtent([1,8]).translateExtent([[0,0],[this.svgWidth,this.svgHeight]]).on("zoom",this.zoomed);return t},tooltip:function(){return N.Ys("#tooltip")}}),mounted:function(){this.isReady&&this.render()},watch:{selectedCountry:function(){this.$store.dispatch("getCountryDetails")},dataset:function(){this.isReady&&(N.Ys("svg > g").empty()||this.updateScatter(),this.current_state.regression_line?this.addRegressionLine():this.removeRegressionLine())},"current_state.regression_line":function(){this.current_state.regression_line?this.addRegressionLine():this.removeRegressionLine()},"current_state.size":function(){this.updateCircleSize()},"current_state.hovered_region":function(){this.updateCircleColorOnHover()},"current_state.selected_region":function(){this.manageCirclesStyles()},"current_state.country":function(){this.manageCirclesStyles()}},methods:(0,n.Z)((0,n.Z)({},(0,o.OI)(["updateSelectedPlotPoint"])),{},{zoomed:function(t){var e=this,a=t.transform,i=a.rescaleX(this.xScale),r=a.rescaleY(this.yScale);N.Ys(".highlight-circle").style("display","none"),N.Ys(".voronoiWrapper").selectAll("path").attr("d",(function(t,a){return e.voronoi(i,r,a)})).on("mouseover",(function(t,a){e.highlightPoint(i,r,a,t),e.showTooltip(t,a)})).on("mouseleave",(function(t,a){e.hideTooltip(),e.removeHighlightPoint(i,r,a)})),N.Ys("g.xAxis").call(N.LLu(i)),N.Ys("g.yAxis").call(N.y4O(r)),N.Ys("g.scatterCircles").selectAll("circle").attr("cx",(function(t){return i(t.nutrient)})).attr("cy",(function(t){return r(t.disease)}))},drawSvg:function(){this.svg=N.Ys("#scatterplot").append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)).classed("svg-content",!0).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.svg.append("defs").append("svg:clipPath").attr("id","clip").append("svg:rect").attr("id","clip-rect").attr("x","0").attr("y","0").attr("width",this.width).attr("height",this.height)},render:function(){var t=this;N.Ys("#scatterplot svg").remove(),this.drawSvg(),this.svg.call(this.zoom).call(this.zoom.transform,N.CRH),this.svg.append("g").attr("class","axis xAxis").attr("transform","translate(0,"+this.height+")").call(N.LLu(this.xScale)),this.svg.append("g").attr("class","axis yAxis").call(N.y4O(this.yScale)),this.svg.append("text").attr("class","label x-label").attr("text-anchor","end").attr("x",this.width+5).attr("y",this.height+35).text("".concat(this.current_state.nutrient.label," - ").concat(this.current_state.nutrient.food_group," (").concat(this.current_state.nutrient.serving_size,")")),this.svg.append("text").attr("class","label y-label").attr("text-anchor","end").attr("y",-60).attr("dx","0.2em").attr("transform","rotate(-90)").text("".concat(this.current_state.disease.label," - Prevalence per 100k")),this.svg.append("g").attr("class","scatterCircles").selectAll("circle").data(this.dataset).enter().append("circle").attr("id",(function(t){return"circle_".concat(t["iso"])})).attr("cx",(function(e){return t.xScale(e.nutrient)})).attr("cy",(function(e){return t.yScale(e.disease)})).attr("r",(function(e){return t.style.circleRadius})).attr("stroke",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.highlighted:t.style.circleStroke.color})).attr("stroke-width",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.thick:t.style.circleStroke.width})).attr("fill",(function(e){return t.current_state.country&&e.country===t.current_state.country&&(-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region)?t.style.circleColors.selectedCountryUnactiveRegion:t.colorMap(e["region"])})).style("opacity",(function(e){return t.current_state.country?e.country===t.current_state.country?t.style.circleOpacity.highlighted:t.style.circleOpacity.pushedBack:t.style.circleOpacity["default"]})).attr("clip-path","url(#clip)"),this.svg.append("g").attr("class","voronoiWrapper").selectAll("path").data(this.dataset).join("path").attr("id",(function(t){return t["iso"]})).attr("fill","none").style("pointer-events","all").attr("d",(function(e,a){return t.voronoi(t.xScale,t.yScale,a)})).on("mouseover",(function(e,a){t.highlightPoint(t.xScale,t.yScale,a,e),t.showTooltip(e,a)})).on("mouseleave",(function(e,a){t.hideTooltip(),t.removeHighlightPoint(t.xScale,t.yScale,a)})),this.svg.append("line").attr("class","regression").style("display","none"),this.updateCircleSize()},updateScatter:function(){var t=this;this.updateCircleSize();var e=this.dataset;this.svg.select(".axis.xAxis").transition().duration(500).call(N.LLu(this.xScale)),this.svg.select(".axis.yAxis").transition().duration(500).call(N.y4O(this.yScale)),this.svg.select(".label.x-label").transition().duration(500).text("".concat(this.current_state.nutrient.label," - ").concat(this.current_state.nutrient.food_group," (").concat(this.current_state.nutrient.serving_size,")")),this.svg.select(".label.y-label").transition().duration(500).text("".concat(this.current_state.disease.label," - Prevalence per 100k"));var a=this.current_state.size.value;this.svg.select("g.scatterCircles").selectAll("circle").data(e).transition().duration(500).attr("id",(function(t){return"circle_".concat(t["iso"])})).attr("cx",(function(e){return t.xScale(e.nutrient)})).attr("cy",(function(e){return t.yScale(e.disease)})).attr("r",(function(e){return null==a?t.style.circleRadius:"pop"==a?999!=e[a]?t.populationRadiusScale(e["pop"]):0:"obesity"==a?999!=e[a]?e[a]/4:0:"overweight"==a?999!=e[a]?e[a]/10:0:"underweight"==a?999!=e[a]?e[a]:0:void 0})).attr("stroke",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.highlighted:t.style.circleStroke.color})).attr("stroke-width",(function(e){return t.current_state.country&&e.country===t.current_state.country?t.style.circleStroke.thick:t.style.circleStroke.width})).attr("fill",(function(e){return t.current_state.country&&e.country===t.current_state.country?-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region?t.style.circleColors.selectedCountryUnactiveRegion:t.colorMap(e["region"]):-1===t.current_state.selected_region.indexOf(e["region"])||t.current_state.hovered_region?t.style.circleColors.pushedBack:t.colorMap(e["region"])})).style("opacity",(function(e){return t.current_state.country?e.country===t.current_state.country?t.style.circleOpacity.highlighted:t.style.circleOpacity.pushedBack:t.style.circleOpacity["default"]})).attr("clip-path","url(#clip)"),this.svg.selectAll(".voronoiWrapper").remove(),this.svg.append("g").attr("class","voronoiWrapper").selectAll("path").data(e).join("path").attr("id",(function(t){return t["iso"]})).attr("fill","none").style("pointer-events","all").attr("d",(function(e,a){return t.voronoi(t.xScale,t.yScale,a)})).on("mouseover",(function(e,a){t.highlightPoint(t.xScale,t.yScale,a,e),t.showTooltip(e,a)})).on("mouseleave",(function(e,a){t.hideTooltip(),t.removeHighlightPoint(t.xScale,t.yScale,a)}))},addRegressionLine:function(){var t=this;N.Ys("line.regression").style("display","block").datum(this.regression(this.dataset)).attr("x1",(function(t){return 0})).attr("x2",(function(t){return 0})).attr("y1",(function(e){return t.yScale(e[0][1])})).attr("y2",(function(t){return 0})),N.Ys("line.regression").datum(this.regression(this.dataset)).transition().duration(500).attr("x1",(function(e){return t.xScale(e[0][0])})).attr("x2",(function(e){return t.xScale(e[1][0])})).attr("y1",(function(e){return t.yScale(e[0][1])})).attr("y2",(function(e){return t.yScale(e[1][1])})).style("display","block").attr("clip-path","url(#clip)")},removeRegressionLine:function(){N.Ys("line.regression").style("display","none")},resetZoom:function(){this.svg.transition().duration(750).call(this.zoom.transform,N.CRH)},updateCircleSize:function(){var t=this;if(this.current_state.size.hasOwnProperty("value")){var e=this.current_state.size.value;N.td_(".v-input").style("pointer-events","none"),N.Ys("g.scatterCircles").selectAll("circle").transition().duration(500).attr("r",(function(a){return null==e?t.style.circleRadius:"pop"==e?999!=a[e]?t.populationRadiusScale(a["pop"]):0:"obesity"==e?999!=a[e]?a[e]/4:0:"overweight"==e?999!=a[e]?a[e]/10:0:"underweight"==e?999!=a[e]?a[e]:0:void 0})),setTimeout((function(t){N.td_(".v-input").style("pointer-events","all")}),510)}},updateCircleColorOnHover:function(){var t=this,e=this.current_state.hovered_region,a=this.current_state.selected_region,i=this.style.circleOpacity,r=this.style.circleColors,s=this.style.circleStroke,n=this.current_state.country,o=this;N.Ys("g.scatterCircles").selectAll("circle").transition().duration(700).style("opacity",(function(t){return!1===e?n&&t.country===n?i.highlighted:a.indexOf(t.region)>=0?n?i.pushedBack:i["default"]:i.pushedBack:n&&t.country===n?(t.region===e&&N.Ys(this).raise(),i.highlighted):t.region===e&&a.indexOf(t.region)>=0?(N.Ys(this).raise(),i["default"]):i.pushedBack})).attr("fill",(function(t){return!1===e?n&&t.country===n?-1===a.indexOf(t["region"])?r.selectedCountryUnactiveRegion:o.colorMap(t["region"]):a.indexOf(t.region)>=0?o.colorMap(t["region"]):r.pushedBack:n&&t.country===n?a.indexOf(t.region)>=0&&t.region===e?o.colorMap(t["region"]):r.selectedCountryUnactiveRegion:t.region===e&&a.indexOf(t.region)>=0?o.colorMap(t["region"]):r.pushedBack})).attr("stroke-width",(function(e){return n&&e.country===n?"3pt":t.style.circleStroke.width})).attr("stroke",(function(t){return n&&t.country===n?s.highlighted:s.color}))},manageCirclesStyles:function(){var t=this,e=this.style.circleOpacity,a=this.style.circleColors,i=this.style.circleStroke,r=this.current_state.country,s=this.current_state.selected_region.filter((function(t){return null!==t}));N.Ys("g.scatterCircles").selectAll("circle").transition().duration(1e3).style("opacity",(function(t){return s.indexOf(t.region)<0?r&&t.country===r?(N.Ys(this).raise(),e.highlighted):e.pushedBack:r&&t.country===r?(N.Ys(this).raise(),e.highlighted):e["default"]})).attr("fill",(function(e){return 0===s.length?a["default"]:s.indexOf(e.region)<0?r&&e.country===r?a.selectedCountryUnactiveRegion:a.pushedBack:t.colorMap(e["region"])})).attr("stroke-width",(function(e){return r&&e.country===r?"3pt":t.style.circleStroke.width})).attr("stroke",(function(t){return r&&t.country===r?i.highlighted:i.color}))},showTooltip:function(t,e){if(!(this.current_state.data_load_progress<100)){var a=N.WUZ(",.0f"),i='<span id="ttpCountry">'.concat(e.country,'</span>\n                            <span class="population">').concat(a(e.pop),' people</span>\n                            <span class="caption font-weight-medium">').concat(this.current_state.nutrient.label,' consumption:</span>\n                            <span class="caption text-uppercase mb-1"> ').concat(a(e.nutrient)," ").concat(this.current_state.nutrient.serving_size,'</span>\n                            <span class="caption font-weight-medium">').concat(this.current_state.disease.label,' prevalence:</span>\n                            <span class="caption text-uppercase"> ').concat(a(e.disease)," people per 100k\n                            (~").concat(a(e.disease/1e5*e.pop)," people)\n                            </span>\n                            ");this.tooltip.style("display","block").transition().duration(500).style("opacity",1);var r=N.Ys("#circle_".concat(t.srcElement.id)).node().getBoundingClientRect();this.tooltip.style("left",r.x+r.width/2+20+"px").style("top",r.y-this.tooltip.node().getBoundingClientRect().height/2+"px").style("pointer-events","none").html(i)}},hideTooltip:function(){this.tooltip.style("display","none").style("opacity",0)},clickedCountry:function(t){this.selectedCountry=t},voronoi:function(t,e,a){return N.oc6.from(this.dataset,(function(e){return t(e.nutrient)}),(function(t){return e(t.disease)})).voronoi([0,0,this.width,this.height]).renderCell(a)},highlightPoint:function(t,e,a,i){var r=this;if(!(this.current_state.data_load_progress<100)){var s=i.srcElement.id;N.Ys("g.scatterCircles").selectAll("circle").style("opacity",(function(t){return r.current_state.country&&t.country===r.current_state.country?r.style.circleOpacity.highlighted:r.style.circleOpacity.pushedBack})),N.Ys("#circle_".concat(s)).attr("stroke",this.style.highlightPointColor).attr("stroke-width","3pt").style("opacity",(function(t){return N.Ys(r).raise(),r.style.circleOpacity.highlighted}))}},removeHighlightPoint:function(t,e,a){var i=this;N.Ys("g.scatterCircles").selectAll("circle").attr("stroke",(function(t){return i.current_state.country&&t.country===i.current_state.country?i.style.circleStroke.highlighted:i.style.circleStroke.color})).attr("stroke-width",(function(t){return i.current_state.country&&t.country===i.current_state.country?i.style.circleStroke.thick:i.style.circleStroke.width})).style("opacity",(function(t){if(!i.current_state.country||t.country!==i.current_state.country)return i.current_state.country?i.style.circleOpacity.pushedBack:i.style.circleOpacity["default"];i.style.circleOpacity.highlighted}))}})},K=G;var X=a(3150),q=(0,g.Z)(K,U,W,!1,null,null,null);const Q=q.exports;v()(q,{VBtn:X.Z,VCol:m.Z,VProgressCircular:b.Z,VRow:w.Z});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{"no-gutters":"",justify:"center"}},[a("v-col",{attrs:{cols:"4"}},[a("Dropdown",{staticClass:"mr-6",attrs:{items:t.filters.nutritionFilters,label:"Select Nutrition",state:"nutrient",default:t.current_state.nutrient}})],1),a("v-col",{attrs:{cols:"6"}},[a("Dropdown",{staticClass:"mr-6",attrs:{items:t.filters.healthFilters,label:"Select Condition",state:"disease",default:t.current_state.disease}})],1)],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isReady?a("v-autocomplete",{ref:"myDropdown",attrs:{items:t.items,"item-text":"label","item-value":"value",label:t.label,"return-object":"",color:"blue-grey darken-3",id:t.state},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}):t._e()},at=[];const it={name:"Dropdown",props:{items:[Function,Array],label:String,state:String,default:[Object,String]},data:function(){return{selected:this["default"]}},computed:{isReady:function(){return"function"!=typeof this.items}},watch:{selected:function(t){this.saveSelectedState({stateToSave:this.state,selected:t}),"nutrient"!==this.state&&"disease"!==this.state||null!=this.selected&&this.$store.dispatch("getDataset")}},methods:(0,n.Z)({},(0,o.OI)(["saveSelectedState"]))},rt=it;var st=a(8268),nt=(0,g.Z)(rt,et,at,!1,null,null,null);const ot=nt.exports;v()(nt,{VAutocomplete:st.Z});const lt={name:"Filters",components:{Dropdown:ot},data:function(){return{selected_region:["Africa","Asia","Europe","Latin America and the Caribbean","Northern America","Oceania"],select:"",strokesCount:0}},computed:(0,n.Z)((0,n.Z)({},(0,o.rn)(["filters","current_state","color_code","dataIsReady"])),(0,o.Se)(["get_country_list","get_region_list"])),watch:{},mounted:function(){},methods:{pressedKey:function(){this.strokesCount++,console.log("pressed",this.strokesCount)},clearSelection:function(){1==this.strokesCount&&console.log("delete value of dropdown")}}},ct=lt;var ut=(0,g.Z)(ct,J,tt,!1,null,null,null);const dt=ut.exports;v()(ut,{VCol:m.Z,VRow:w.Z});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pl-3",attrs:{id:"sidePanel"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mt-2",attrs:{cols:"10"}},[a("Dropdown",{staticClass:"ml-2",attrs:{items:t.get_country_list,label:"Highlight Country",state:"country",default:t.current_state.country}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"10"}},[a("Dropdown",{staticClass:"ml-2",attrs:{items:t.sizeBy,label:"Size Circles By",state:"size",default:t.current_state.size}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mt-6",attrs:{cols:"12"}},[a("span",{staticClass:"ml-2 mr-2 text-button"},[t._v("Highlight Region")]),t._l(t.get_region_list,(function(e,i){return[a("v-checkbox",{key:i,staticClass:"ml-2 mr-2",attrs:{color:t.color_code[i],value:e,"hide-details":"",dense:!0},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"text-sm-body-2"},[t._v(t._s(e))])]},proxy:!0}],null,!0),model:{value:t.selected_region[i],callback:function(e){t.$set(t.selected_region,i,e)},expression:"selected_region[index]"}})]}))],2)],1),a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("v-card",{staticClass:"ma-0 pa-0",attrs:{elevation:"0"}},[a("v-card-actions",{staticClass:"ma-0 pa-0"},[a("v-switch",{staticClass:"ml-4",attrs:{inset:"",dense:"",color:"blue-grey darken-3"},scopedSlots:t._u([{key:"label",fn:function(){return[a("span",{staticClass:"caption",staticStyle:{margin:"-1px 0 0 -7px"}},[t._v(t._s(1==t.regressionLine?"Remove Regression Line":"Add Regression Line"))])]},proxy:!0}]),model:{value:t.regressionLine,callback:function(e){t.regressionLine=e},expression:"regressionLine"}}),a("v-tooltip",{attrs:{top:"","nudge-left":"35",color:"#fff","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"ml-1",staticStyle:{"margin-top":"-12px"},attrs:{small:"",dark:"",color:"grey"}},"v-icon",r,!1),i),[t._v(" mdi-comment-question-outline ")])]}}])},[a("div",{staticClass:"elevation-3 pa-5",staticStyle:{color:"#111 !important",opacity:"1"}},[t._v(' The regression line gives a visual presentation of the relationship between two variables. The steepness of the angle of the regression line (slope) is the amount of change in "Y" that we can expect for any unit change in "X". '),a("v-img",{attrs:{src:"images/regression_line.png"}})],1)])],1)],1)],1)],1)],1)},pt=[];const gt={name:"SidePanel",components:{Dropdown:ot},data:function(){return{hoveredRegion:!1,selected_region:["Africa","Asia","Europe","Latin America and the Caribbean","Northern America","Oceania"],sizeBy:[{value:null,label:"Don't Size"},{value:"pop",label:"Population"},{value:"obesity",label:"Obesity Rate"},{value:"overweight",label:"Overweight Rate"},{value:"underweight",label:"Underweight Rate"}],regressionLine:!1}},computed:(0,n.Z)((0,n.Z)({},(0,o.rn)(["current_state","color_code","dataIsReady"])),(0,o.Se)(["get_country_list","get_region_list"])),watch:{get_region_list:function(){this.regionHover()},selected_region:function(t){this.saveSelectedState({stateToSave:"selected_region",selected:t})},regressionLine:function(t){this.saveSelectedState({stateToSave:"regression_line",selected:t})}},mounted:function(){this.regionHover()},methods:(0,n.Z)((0,n.Z)({},(0,o.OI)(["saveSelectedState"])),{},{regionHover:function(){var t=this;N.td_(".v-input").on("mouseenter",(function(e,a){var i=N.Ys(this).select("label").text();t.selected_region.indexOf(i)>=0&&(t.hoveredRegion=i,N.Ys(this).style("background","#eee"),t.saveSelectedState({stateToSave:"hovered_region",selected:i}))})).on("mouseleave",(function(){t.hoveredRegion=!1,N.Ys(this).style("background","#fff"),t.saveSelectedState({stateToSave:"hovered_region",selected:!1})}))}})},ft=gt;var vt=a(7118),yt=a(3702),mt=a(6428),_t=a(1328),bt=a(9330),wt=(0,g.Z)(ft,ht,pt,!1,null,null,null);const St=wt.exports;v()(wt,{VCard:y.Z,VCardActions:vt.h7,VCheckbox:yt.Z,VCol:m.Z,VIcon:mt.Z,VImg:_.Z,VRow:w.Z,VSwitch:_t.Z,VTooltip:bt.Z});const kt={name:"Visualizations",components:{Scatterplot:Q,Filters:dt,SidePanel:St},data:function(){return{progressBarValue:0}},computed:(0,n.Z)((0,n.Z)({},(0,o.rn)(["dataset","dataIsReady","selectedPlotPoint","current_state"])),{},{selectedDiseaseLabel:function(){if(this.current_state.disease)return this.current_state.disease.label},selectedNutritionLabel:function(){if(this.current_state.nutrient){var t=this.current_state.nutrient.label.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}}}),mounted:function(){}},xt=kt;var Ct=(0,g.Z)(xt,E,H,!1,null,null,null);const Vt=Ct.exports;v()(Ct,{VCol:m.Z,VRow:w.Z});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.variableToVisualize}},[a("div",{attrs:{id:"introViz"}}),a("div",{staticClass:"ttp ttpUSA elevation-1"})])},Rt=[],Ot=(a(4916),a(3123),a(6005));const Pt={name:"introSlidesViz",props:{variableToVisualize:String},data:function(){return{defaultStrokeColor:"#ddd",defaultStrokeWidth:1,colorUSA:"#f94144",highlightedStrokeColor:"#111",highlightedStrokeWidth:3,hoveredCircleFill:"#fff",defaultCircleColor:"#444",defaultOpacity:.4,fullOpacity:1,width:150,height:500,margin:{top:30,right:10,bottom:10,left:10},svg:Object,radius:7}},computed:(0,n.Z)((0,n.Z)({},(0,o.rn)(["dataset","dataIsReady"])),{},{isReady:function(){return!(!this.dataIsReady||!this.dataset)},svgHeight:function(){return this.height+this.margin.top+this.margin.bottom},svgWidth:function(){return this.width+this.margin.left+this.margin.right},xScale:function(){var t=N.BYU().domain([0,1]).range([0,this.width]);return t},yScale:function(){var t=this,e=N.BYU().domain([0,N.Fp7(this.dataset.map((function(e){return"nutrient"===t.variableToVisualize?e.nutrient:e.disease})))]).range([this.height,0]).nice();return e},voronoi:function(){var t=this,e=this.variableToVisualize;return N.oc6.from(this.dataset,(function(t){return 0}),(function(a){return t.yScale(a[e])})).voronoi([75,0,this.width,this.height])}}),mounted:function(){this.isReady&&this.render()},watch:{dataIsReady:function(){this.isReady&&this.render()}},methods:{render:function(){var t=this;this.svg=N.Ys("#".concat(this.variableToVisualize," > #introViz")).append("svg").attr("width",this.svgWidth).attr("height",this.svgHeight).append("g").attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")")),this.svg.append("g").attr("class","axis y-axis").call(N.y4O(this.yScale)).style("transform","translateX(".concat(this.width/2,"px"));this.svg.append("g").attr("class","circle").selectAll("circle").data(this.dataset).enter().append("circle").attr("id",(function(t){return"intro_circle_".concat(t.iso)})).attr("cx","".concat(this.width/2+30,"px")).attr("cy",(function(e){return"nutrient"===t.variableToVisualize?t.yScale(e.nutrient):t.yScale(e.disease)})).attr("r",this.radius).attr("fill",(function(e){return"United States"===e.country?t.colorUSA:t.defaultCircleColor})).attr("stroke",this.defaultStrokeColor).attr("stroke-width",this.defaultStrokeWidth).attr("opacity",(function(e){return"United States"===e.country?t.fullOpacity:t.defaultOpacity}));this.svg.append("text").attr("x",this.width/2).attr("y",0-this.margin.top/2-30).attr("class","vizTitle").attr("text-anchor","middle").text("nutrient"===this.variableToVisualize?"grams of Milk per day</p>.":"Rheumatoid Arthritis prevalence per 100k.</p>"),this.addUsaDescription();this.svg.append("g").attr("class","y-voronoi").selectAll("path").data(this.dataset).join("path").attr("id",(function(t){return"intro_path_".concat(t.iso)})).attr("opacity",.5).attr("stroke","none").attr("fill","none").style("pointer-events","all").attr("d",(function(e,a){return t.voronoi.renderCell(a)})).on("mouseenter",(function(e,a){t.resetCircleStyle()})).on("mousemove",(function(e,a){t.onHover(e,a)})).on("mouseleave",(function(e,a){t.onMouseLeave()}))},addUsaDescription:function(){var t=this.dataset.filter((function(t){return"United States"===t.country}))[0],e=N.WUZ(",.0f"),a="nutrient"===this.variableToVisualize?'<p><span class="ttpCountry">'.concat(t.country,'</span> <span class="ttpDescription">Milk consumption is ').concat(t.nutrient," grams of per day</span></p>"):'<p><span class="ttpCountry">'.concat(t.country,'</span><span class="ttpDescription"> Rheumatoid Arthritis prevalence is ').concat(t.disease,' per 100k people</span></p>\n          </span>\n          <span  class="ttpDescription"> Approximately ').concat(e(t.disease/1e5*t.pop)," people in the United States are living with Rheumatoid Arthritis\n          </span>");N.Ys("#".concat(this.variableToVisualize)).select(".ttpUSA").style("display","block").style("top","nutrient"===this.variableToVisualize?"57%":"34%").style("left",(this.variableToVisualize,"55%")).html(a)},onHover:function(t,e){var a=N.WUZ(",.0f"),i="nutrient"===this.variableToVisualize?'<p><span class="ttpCountry">'.concat(e.country,'</span> <span class="ttpDescription">Milk consumption is ').concat(e.nutrient," grams of per day</span></p>"):'<p><span class="ttpCountry">'.concat(e.country,'</span> <span class="ttpDescription">Rheumatoid Arthritis prevalence is ').concat(e.disease,' per 100k people</span></p><p> <span class="ttpDescription">  Approximately ').concat(a(e.disease/1e5*e.pop)," people living with Rheumatoid Arthritis in ").concat(e.country,"\n                            </span></p>");N.Ys("#tooltip").style("left",t.pageX+20+"px").style("top",t.pageY-20+"px").html(i).style("display","block").transition().duration(300).style("opacity",1);var r=t.srcElement.id.split("_")[2];N.Ys("#".concat(this.variableToVisualize)).select("#intro_circle_".concat(r)).attr("fill",this.hoveredCircleFill).attr("opacity",1).attr("stroke",this.highlightedStrokeColor).attr("stroke-width",this.highlightedStrokeWidth).raise()},resetCircleStyle:function(){var t=this;N.Ys("#".concat(this.variableToVisualize)).select("#introViz").selectAll("circle").attr("fill",(function(e){return"United States"===e.country?t.colorUSA:t.defaultCircleColor})).attr("stroke",this.defaultStrokeColor).attr("stroke-width",this.defaultStrokeWidth).attr("opacity",(function(e){return"United States"===e.country?t.fullOpacity:t.defaultOpacity}))},onMouseLeave:function(){N.Ys("#tooltip").transition().duration(200).style("opacity",0).style("display","none"),this.resetCircleStyle()}}},zt=Pt;var At=(0,g.Z)(zt,Zt,Rt,!1,null,null,null);const Tt=At.exports,It={name:"StorySlides",components:{Visualizations:Vt,introSlidesViz:Tt},data:function(){return{length:3,currentSlide:0}},computed:{},mounted:function(){2==this.currentSlide&&document.getElementById("projectTitle").classList.add("hide")},watch:{currentSlide:function(){document.getElementById("projectTitle").classList.remove("hide"),2==this.currentSlide&&document.getElementById("projectTitle").classList.add("hide")}},methods:{changeWindow:function(t,e){this.currentSlide=e},sideNavTooltip:function(t){return 1===t?"(Total) milk consumption":2===t?"Rheumatoid arthritis prevalence":"Explore the data"}}},Dt=It;var jt=a(8215),Ft=a(4622),Bt=a(6924),Yt=a(7864),Lt=(0,g.Z)(Dt,L,M,!1,null,null,null);const Mt=Lt.exports;v()(Lt,{VBtn:X.Z,VCard:y.Z,VCol:m.Z,VContainer:F.Z,VIcon:mt.Z,VItem:jt.Z,VItemGroup:Ft.Z,VRow:w.Z,VTooltip:bt.Z,VWindow:Bt.Z,VWindowItem:Yt.Z});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticStyle:{background:"#fff"},attrs:{id:"footer",padless:""}},[a("v-col",{staticClass:"text-left",staticStyle:{"font-size":"8pt",color:"#333"},attrs:{cols:"6"}},[t._v(" MS Data Visualization Thesis, Parsons School of Design, NYC ")]),a("v-col",{staticClass:"text-right",staticStyle:{"font-size":"9pt"},attrs:{cols:"6"}},[a("a",{attrs:{href:"https://yoanacodes.com",target:"_blank"}},[t._v("Portfolio")]),t._v("   |   "),a("a",{attrs:{href:"mailto:yoana.kosturska@gmail.com"}},[t._v("Contact: Yoana Kosturska")]),t._v("   |   © 2022 ")])],1)},Ht=[];const Ut={name:"Footer"},Wt=Ut;var Nt=a(899),$t=(0,g.Z)(Wt,Et,Ht,!1,null,null,null);const Gt=$t.exports;v()($t,{VCol:m.Z,VFooter:Nt.Z});const Kt={name:"App",components:{ProcessDialog:Y,StorySides:Mt,Footer:Gt},data:function(){return{dialog:!1}},computed:(0,n.Z)({},(0,o.rn)(["dataset","dataIsReady","selectedPlotPoint"])),mounted:function(){this.$store.dispatch("getDataset"),this.$store.dispatch("getHealthFilters"),this.$store.dispatch("getNutritionFilters")},watch:{dialog:function(){this.dialog?document.getElementById("dotNav").classList.add("hide"):document.getElementById("dotNav").classList.remove("hide")}},methods:{}},Xt=Kt;var qt=a(7524),Qt=a(8320),Jt=a(7336),te=a(7877),ee=a(9762),ae=a(6656),ie=(0,g.Z)(Xt,r,s,!1,null,null,null);const re=ie.exports;v()(ie,{VApp:qt.Z,VAppBar:Qt.Z,VBtn:X.Z,VCard:y.Z,VDialog:Jt.Z,VIcon:mt.Z,VMain:te.Z,VSpacer:ee.Z,VToolbar:ae.Z});a(1058);var se=a(9669),ne=a.n(se);i.Z.use(o.ZP);const oe=new o.ZP.Store({state:{dataset:Object,dataIsReady:!1,selectedPlotPoint:Object,filters:{healthFilters:Object,nutritionFilters:Object},current_state:{data_load_progress:0,nutrient:{value:57,label:"Total Milk",serving_size:"grams per day",food_group:"Beverages"},disease:{value:627,label:"Rheumatoid arthritis",parent_id:626,parent_name:"Musculoskeletal disorders",level:3},country:"United States",size:{value:null,label:"Don't Size"},selected_region:["Africa","Asia","Europe","Latin America and the Caribbean","Northern America","Oceania"],regression_line:!1,hovered_region:!1},color_code:["#93C5F1","#f9c74f","#43aa8b","#B79AD1","#f94144","#dfa3a3"]},getters:{get_country_list:function(t){if(t.dataIsReady)return Ot.jg(t.dataset,"country")},get_region_list:function(t){if(t.dataIsReady)return Ot.MR(Ot.Tw(Ot.jg(t.dataset,"region")))}},mutations:{saveDataLoadProgress:function(t,e){t.current_state.data_load_progress=e.data_load_progress},saveData:function(t,e){t.dataset=e.dataset.data,t.dataIsReady=e.dataIsReady},saveHealthFilters:function(t,e){t.filters.healthFilters=e.healthFilters},saveNutritionFilters:function(t,e){t.filters.nutritionFilters=e.nutritionFilters},updateSelectedPlotPoint:function(t,e){t.selectedPlotPoint=e.selectedPlotPoint},saveSelectedState:function(t,e){t.current_state[e.stateToSave]=e.selected}},actions:{getDataset:function(t,e){var a=t.commit,i=t.state,r="https://dvthesis.herokuapp.com/relationships?";return a("saveDataLoadProgress",{data_load_progress:0}),ne().get(r,{params:{nutrient_id:i.current_state.nutrient.value,disease_id:i.current_state.disease.value},onDownloadProgress:function(t){var e=parseInt(Math.round(100*t.loaded/t.total));a("saveDataLoadProgress",{data_load_progress:e})}}).then((function(t){a("saveData",{dataset:t.data,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},getHealthFilters:function(t,e){var a=t.commit,i=t.dispatch;return ne().get("data/health_filters_curated.json").then((function(t){return i("addMenuHeaders",{data:t.data,groupKey:"parent_name"})})).then((function(t){a("saveHealthFilters",{healthFilters:t,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},getNutritionFilters:function(t,e){var a=t.commit,i=t.dispatch;return ne().get("data/nutrition_filters.json").then((function(t){return i("addMenuHeaders",{data:t.data,groupKey:"food_group"})})).then((function(t){a("saveNutritionFilters",{nutritionFilters:t,dataIsReady:!0})}))["catch"]((function(t){console.log(t)}))},addMenuHeaders:function(t,e){t.commit,t.state;var a=e.data,i=e.groupKey,r=[];return Ot.tS(a).groupBy(i).mapObject((function(t,e){r.push({header:e}),t=Ot.MR(t,"label"),Ot.S6(t,(function(t){r.push(t)}))})).value(),r}}});var le=a(9132);i.Z.use(le.Z);const ce=new le.Z({});i.Z.config.productionTip=!1,new i.Z({store:oe,vuetify:ce,render:function(t){return t(re)}}).$mount("#app")}},e={};function a(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,a),s.exports}a.m=t,(()=>{var t=[];a.O=(e,i,r,s)=>{if(!i){var n=1/0;for(u=0;u<t.length;u++){for(var[i,r,s]=t[u],o=!0,l=0;l<i.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(o=!1,s<n&&(n=s));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,r,s]}})(),(()=>{a.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return a.d(e,{a:e}),e}})(),(()=>{a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{a.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var r,s,[n,o,l]=i,c=0;if(n.some((e=>0!==t[e]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var u=l(a)}for(e&&e(i);c<n.length;c++)s=n[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},i=self["webpackChunkthesis"]=self["webpackChunkthesis"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i=a.O(void 0,[998],(()=>a(4628)));i=a.O(i)})();
//# sourceMappingURL=app.c7c2c8c5.js.map